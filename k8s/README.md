#KubernetesDeploymentGuide##PrerequisitesKubernetescluster(EKS,GKE,AKS,orlocalminikube)kubectlinstalledandconfiguredDockerimagespushedtoregistryHelm(optional,forpackagemanagement)##QuickStart###1.CreateNamespaceandSecrets```bash#Createnamespacekubectlapplyfk8s/namespace.yaml#Createsecrets(replacewithactualvalues)kubectlcreatesecretgenericfinancialplatformsecrets\fromliteral=DB_PASSWORD='yoursecurepassword'\fromliteral=GOOGLE_API_KEY='yourgoogleapikey'\fromliteral=GROQ_API_KEY='yourgroqapikey'\fromliteral=OPENROUTER_API_KEY='youropenrouterapikey'\fromliteral=HUGGINGFACE_API_KEY='yourhuggingfaceapikey'\nfinancialplatform#Alternatively,usethetemplate(NOTforproduction!)kubectlapplyfk8s/secrets.yaml```###2.ApplyConfigMap```bashkubectlapplyfk8s/configmap.yaml```###3.DeployDatabase```bashkubectlapplyfk8s/postgresdeployment.yaml#Waitforpostgrestobereadykubectlwaitfor=condition=readypodlapp=postgresnfinancialplatformtimeout=300s```###4.DeployServices```bash#DeployJavaservicekubectlapplyfk8s/javaservicedeployment.yaml#DeployPythonAPIkubectlapplyfk8s/pythonapideployment.yaml#Waitfordeploymentskubectlrolloutstatusdeployment/javaservicenfinancialplatformkubectlrolloutstatusdeployment/pythonapinfinancialplatform```###5.SetupIngress```bash#ForAWSALBkubectlapplyfk8s/ingress.yaml#Checkingresskubectlgetingressnfinancialplatform```###6.VerifyDeployment```bash#Checkallresourceskubectlgetallnfinancialplatform#Checkpodskubectlgetpodsnfinancialplatformowide#Checkserviceskubectlgetsvcnfinancialplatform#Checklogskubectllogsfdeployment/javaservicenfinancialplatformkubectllogsfdeployment/pythonapinfinancialplatform```##CompleteDeploymentScript```bash#!/bin/bash#deployall.shseteecho"ğŸš€DeployingFinancialIntelligencePlatformtoKubernetes..."#1.Namespaceecho"ğŸ“¦Creatingnamespace..."kubectlapplyfk8s/namespace.yaml#2.ConfigMapecho"âš™ï¸ApplyingConfigMap..."kubectlapplyfk8s/configmap.yaml#3.Secrets(checkifexistsfirst)if!kubectlgetsecretfinancialplatformsecretsnfinancialplatform&>/dev/null;thenecho"ğŸ”Creatingsecrets..."echo"âš ï¸WARNING:Usingtemplatesecrets.Replacewithactualvaluesinproduction!"kubectlapplyfk8s/secrets.yamlelseecho"âœ…Secretsalreadyexist"fi#4.Databaseecho"ğŸ—„ï¸DeployingPostgreSQL..."kubectlapplyfk8s/postgresdeployment.yamlecho"WaitingforPostgreSQLtobeready..."kubectlwaitfor=condition=readypodlapp=postgresnfinancialplatformtimeout=300s#5.JavaServiceecho"â˜•DeployingJavaTransactionService..."kubectlapplyfk8s/javaservicedeployment.yaml#6.PythonAPIecho"ğŸDeployingPythonML/LLMAPI..."kubectlapplyfk8s/pythonapideployment.yaml#7.Ingressecho"ğŸŒConfiguringIngress..."kubectlapplyfk8s/ingress.yaml#8.Waitforrolloutsecho"Waitingfordeploymentstocomplete..."kubectlrolloutstatusdeployment/javaservicenfinancialplatformtimeout=5mkubectlrolloutstatusdeployment/pythonapinfinancialplatformtimeout=5m#9.Verificationecho""echo"âœ…Deploymentcomplete!"echo""echo"ğŸ“ŠClusterStatus:"kubectlgetallnfinancialplatformecho""echo"ğŸ”ServiceEndpoints:"kubectlgetingressnfinancialplatformecho""echo"ğŸ’¡Usefulcommands:"echo"Viewlogs:kubectllogsfdeployment/<name>nfinancialplatform"echo"Shellaccess:kubectlexecitdeployment/<name>nfinancialplatform/bin/sh"echo"Portforward:kubectlportforwardsvc/<name>8080:8080nfinancialplatform"echo""```##Scaling###ManualScaling```bash#ScaleJavaservicekubectlscaledeploymentjavaservicereplicas=5nfinancialplatform#ScalePythonAPIkubectlscaledeploymentpythonapireplicas=3nfinancialplatform```###Autoscaling(HPAalreadyconfigured)```bash#ViewHPAstatuskubectlgethpanfinancialplatform#DescribeHPAkubectldescribehpajavaservicehpanfinancialplatformkubectldescribehpapythonapihpanfinancialplatform```##Monitoring```bash#Watchpodskubectlgetpodsnfinancialplatformw#Viewresourceusagekubectltoppodsnfinancialplatformkubectltopnodes#Checkeventskubectlgeteventsnfinancialplatformsortby='.lastTimestamp'```##Troubleshooting###Podnotstarting```bash#Describepodkubectldescribepod<podname>nfinancialplatform#Checklogskubectllogs<podname>nfinancialplatform#Checkpreviouslogsifcontainercrashedkubectllogs<podname>nfinancialplatformprevious```###Servicenotaccessible```bash#Checkserviceendpointskubectlgetendpointsnfinancialplatform#Testfromwithinclusterkubectlruntestrmirestart=Neverimage=curlimages/curl\curlhttp://javaservice.financialplatform.svc.cluster.local:8080/health```###Databaseconnectionissues```bash#Checkpostgrespodkubectllogsdeployment/postgresnfinancialplatform#Connecttopostgreskubectlexecitdeployment/postgresnfinancialplatformpsqlUpostgresdfrauddb```##Cleanup```bash#Deleteeverythinginnamespacekubectldeletenamespacefinancialplatform#Ordeleteresourcesindividuallykubectldeletefk8s/```##ProductionConsiderations###1.UseExternalDatabase(AWSRDS,AzureDatabase,etc.)Updateconfigmaptopointtoexternaldatabase:```yamlDB_HOST:"yourrdsendpoint.region.rds.amazonaws.com"```###2.SetupMonitoringDeployPrometheus+GrafanaSetupCloudWatchContainerInsights(AWS)Configurealerts###3.BackupStrategy```bash#Backupdatabasekubectlexecdeployment/postgresnfinancialplatform\pg_dumpUpostgresfrauddb>backup.sql#Restoredatabasekubectlexecideployment/postgresnfinancialplatform\psqlUpostgresfrauddb<backup.sql```###4.NetworkPoliciesCreatenetworkpoliciestorestricttrafficbetweenpods.###5.PodSecurityPoliciesImplementpodsecuritystandardsforproduction.##AWSEKSSpecific###CreateEKSCluster```basheksctlcreatecluster\namefinancialplatformcluster\regionuseast1\nodegroupnamestandardworkers\nodetypet3.medium\nodes3\nodesmin2\nodesmax5\managed```###InstallAWSLoadBalancerController```bashhelmrepoaddekshttps://aws.github.io/ekschartshelminstallawsloadbalancercontrollereks/awsloadbalancercontroller\nkubesystem\setclusterName=financialplatformcluster```##GCPGKESpecific###CreateGKECluster```bashgcloudcontainerclusterscreatefinancialplatformcluster\regionuscentral1\numnodes3\machinetypen1standard2\enableautoscaling\minnodes2\maxnodes5```##AzureAKSSpecific###CreateAKSCluster```bashazakscreate\resourcegroupfinancialplatformrg\namefinancialplatformcluster\nodecount3\enableaddonsmonitoring\generatesshkeys```